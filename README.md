# Syllabus-Scraper
大学のシラバス参照サイトからシラバス情報を取得するプログラム（学習・記録用）
追加機能として大学のスクールバスの時刻表をスクレイピングし、授業に間に合うバスを提案する機能も追加
記録用のため、今のまま実行しても動かないが、何か所か書き換えて実行すれば動くようになる。

# 大学シラバススクレイパー (daigaku-syllabus)

## プロジェクト概要
- このプロジェクトは、大学のシラバス情報を自動で取得する **Pythonスクレイパー**  
- 従来のコードでは、特定の学部・学科の授業情報をまとめて取得可能ですが、プライバシー保護のため一部コードを変更しているため、このまま実行しても動作しない。

## 実行環境
- Google Colab

## 技術スタック
- Python 
- Jupyter Notebook (`.ipynb`)
- ライブラリ:
  - `requests`：Webページの取得
  - `BeautifulSoup`：HTML解析
  - `Selenium`：ブラウザの自動操作

## ファイル構成
- `daigaku_syllabus.ipynb`：スクレイピング実行用ノートブック  
- `.gitignore`：Git管理から除外するファイル  
- `LICENSE`：MITライセンス  
- `README.md`：この説明ファイル

## 使い方
1. ノートブックを VSCode や Jupyter Lab、Google Colab で開く  
2. コードを `def setup_driver()` まで実行する  
3. シラバスサイトを開き、キーボードの F12 を押して開発者ツールを起動し、自分が調べたい要素や関数名を確認する

## HTML要素の参照について
このコードでは、シラバスサイトの入力フォームやボタンを操作する際に **HTMLの属性** を使って要素を特定している

- `By.NAME` → HTMLの `name` 属性を参照  
  例：`<input name="userName">` に自動でユーザーIDを入力  
- `By.ID` → HTMLの `id` 属性を参照  
- `By.CLASS_NAME` → HTMLの `class` 属性を参照  

今回のログイン部分では、`name="userName"` や `name="password"` を使用して、ユーザーIDとパスワードを入力している。
このように `name` 属性を使うことで、HTMLの構造に沿って正確に自動操作をすることが可能。

4. これまでの操作を実行すると、Selenium による自動ログインが可能になる。
(もし上記までの操作でも失敗する場合にはChatGPTなどのAIにデバックコードを作成してもらい、htmlの構造を明らかにするとわかりやすい。)
5. 追加機能を実装したい場合は、まず """ を削除し、時刻表の HTML を F12 で確認して仕組みを把握する。その後、def get_bus_schedules() と def maniau_bus(yobi_jigen_str, bus_schedules) を書き換えて実行する
6. シラバスサイトの検索部分を開き、F12キーで開発者ツールを起動します。調べたい要素や関数名を確認する。
（自分の大学のシラバスサイトでは、検索項目は上から順に「年度」「時間割所属」「学期」「開講」「教員名」「授業科目名」「学年」「曜日」「時限」「フリーワード」となっている。）
7. 下まで実行
8. discord内のチャットでシラバスと入力するとシラバスモードに遷移
9. Botの指示に従う

## Discordボットとして利用する場合
このスクレイパーは Discord ボット向けに作られたインターフェースも備えている。Discord サーバーにボットを導入し、チャットで特定のコマンドを送信することで、シラバス検索を開始できる。

## モード遷移の流れ
1. Discord チャットで「シラバス」と入力すると、ボットがシラバス検索モードに遷移
2. その後、以下の順でボットから入力を求められる
    年度（例: 2025）
    学部コード（F12で要確認）
    学期（例: 前期、後期）
    学年（例: 1、2、3、4）
    科目名のキーワード（任意、特になければ「なし」と入力）
3. 入力が完了すると、ボットが自動でシラバスサイトにアクセスし、条件に合った授業情報と、追加でスクールバスの時刻情報（間に合うバス）を提案
4. 検索結果は Discord チャット上に返されます。結果が長い場合は複数メッセージに分割して送信される。


エラー等が出る場合にはシラバスサイトのhtmlをデバックなどで構造を明らかにして`By.NAME`や`By.ID`に間違いがないかをよく確認する。

